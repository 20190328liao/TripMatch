/* =========================================
   1. 版面重置與基礎 Layout 設定
   ========================================= */

/* 針對導覽列 (Navbar) - 移除下方間距 */
header, nav, .navbar {
    margin-bottom: 0 !important;
    z-index: 1030;
    position: relative;
}

/* 【修改這裡】移除 .container 和 .container-fluid */
/* 只針對 body, main 和 .body-content 做重置 */
body, main, .body-content {
    padding: 0 !important;
    margin: 0 !important;
/*    max-width: 100% !important;*/
    overflow: hidden; /* 隱藏外層捲軸 */
}

/* 隱藏頁尾 */
footer {
    display: none !important;
}

/* =========================================
   2. 編輯頁面主框架 (Itinerary Wrapper)
   ========================================= */

.itinerary-wrapper {
    /* 【修改】原本是 56px，建議改為 60px 或 62px */
    /* 原因：導覽列可能有邊框或陰影佔用空間，稍微扣多一點確保底部不會被切掉 */
    height: calc(100vh - 60px);
    display: flex;
    width: 100vw;
    position: relative;
    margin-top: -1px;
}

/* 左側面板 - 行程列表 */
.left-panel {
    min-width: 320px;
    background-color: #f8f9fa;
    border-right: 1px solid #dee2e6;
    display: flex;
    flex-direction: column;
    z-index: 10;
    /* 【新增】這兩行非常重要！ */
    /* 確保左側面板高度絕對不會超過 wrapper，並強制子元素溢出時由子元素自己處理 */
    height: 100%;
    overflow: hidden;
}

/* 右側面板 - 地圖 */
.right-panel {
    flex-grow: 1;
    position: relative;
    background-color: #f0f0f0;
}

#map {
    width: 100%;
    height: 100%;
}

/* =========================================
   6. 響應式 RWD 最終修正版 (1120px 以下)
   ========================================= */

@media (max-width: 1120px) {

    /* --- 1. 解除外層限制 --- */
    /* 讓 body 和 wrapper 不要干涉內部彈出視窗 */
    body, html {
        overflow: visible !important;
    }

    .itinerary-wrapper {
        width: 100vw;
        height: calc(100vh - 60px);
        overflow: hidden; /* 這裡 hidden 是為了防止整個頁面捲動 */
        position: relative;
    }

    /* --- 2. 左側面板重構：Flex Column --- */
    .left-panel {
        width: 100% !important;
        min-width: 100% !important;
        height: 100% !important;
        border-right: none;
        /* 關鍵佈局：垂直排列 */
        display: flex !important;
        flex-direction: column !important;
        /* 面板本身「不」捲動，也不隱藏溢出，這樣絕對定位的選單才能顯示 */
        overflow: visible !important;
        position: static !important; /* 嘗試移除 relative 限制 */
    }

    /* --- 3. 隱藏右側地圖 --- */
    .right-panel {
        display: none !important;
    }

    /* --- 4. 導覽列：固定在頂部，層級最高 --- */
    /* 這是最關鍵的部分：確保它物理上位於內容層之上 */
    .itinerary-nav-container {
        flex: 0 0 auto; /* 不縮放，高度自動 */
        width: 100%;
        background: #fff;
        z-index: 9999 !important; /* 核彈級 Z-index */
        position: relative;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* 加陰影確保視覺覆蓋 */
    }

    .segmented-control {
        overflow: visible !important;
    }

    /* --- 5. 下拉選單強制定位 --- */
    .seg-dropdown .dropdown-menu {
        position: absolute !important;
        top: 100% !important; /* 緊接在按鈕下方 */
        left: 0 !important;
        min-width: 200px;
        z-index: 10000 !important; /* 比導覽列更高 */
        display: none; /* 預設隱藏，由 JS 控制 */
        /* 視覺樣式，確保不被背景吃掉 */
        background-color: white !important;
        border: 1px solid #ddd !important;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2) !important;
    }

        .seg-dropdown .dropdown-menu.show {
            display: block !important;
        }

    /* --- 6. 內容區塊：只有這裡可以捲動 --- */
    /* 這裡負責吃掉剩下的高度，並產生捲軸 */
    .tab-content-wrapper {
        flex: 1 1 auto; /* 吃掉剩餘空間 */
        position: relative;
        z-index: 1; /* 層級低於導覽列 */
        height: 0; /* 配合 flex-grow 生效 */
        min-height: 0;
        overflow: hidden; /* 內部再處理捲動 */
    }

    .itinerary-content {
        height: 100%;
        overflow-y: auto !important; /* 捲軸只在這裡 */
        padding-bottom: 100px;
        z-index: 1;
        position: relative;
    }

    /* 1. 確保 header 容器不會限制選單顯示 */
    .day-header {
        overflow: visible !important;
        position: relative !important;
        z-index: 50 !important; /* 確保比下一天高 */
    }

    /* 2. 強制選單定位 (核心修正) */
    .day-header .dropdown-menu {
        /* 關閉 Bootstrap 的動態位移 (Popper.js) */
        position: absolute !important;
        transform: none !important;
        /* 手動指定位置：出現在按鈕的左下方 */
        top: 100% !important;
        right: 0 !important;
        left: auto !important;
        /* 確保選單不會消失 */
        display: none;
        margin: 0;
        z-index: 9999 !important;
        background-color: #fff !important;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2) !important;
        border: 1px solid #ddd !important;
    }

        /* 當按鈕點擊後，Bootstrap 會加上 .show，我們強迫它顯示 */
        .day-header .dropdown-menu.show {
            display: block !important;
        }

    /* 3. 解決「被下一天蓋住」的問題 */
    /* 當某一天標題內的選單開啟時，大幅提升那一天的層級 */
    .day-header:focus-within {
        z-index: 1000 !important;
    }

    /* 1. 確保推薦清單的容器不會切掉選單 */
    #explore-tab-content,
    #favorites-tab-content,
    .rec-item {
        overflow: visible !important;
    }

    /* 2. 修正推薦卡片 (rec-item) 的層級 */
    /* 點擊時，提升該張卡片的層級，確保選單不會被下一張卡片遮住 */
    .rec-item:focus-within {
        z-index: 50 !important;
    }

    /* 3. 強制推薦面板內的下拉選單定位 */
    .rec-item .dropdown-menu {
        position: absolute !important;
        transform: none !important; /* 關閉 Bootstrap JS 位移計算 */
        top: 100% !important; /* 出現在按鈕正下方 */
        left: 0 !important;
        right: auto !important;
        display: none;
        z-index: 10000 !important;
        background-color: white !important;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2) !important;
        min-width: 160px;
    }

        /* 當 Bootstrap 激活選單時強制顯示 */
        .rec-item .dropdown-menu.show {
            display: block !important;
        }

    /* 4. 如果是在手機上，讓選單寬度更適中 */
    .rec-item .dropdown-item {
        padding: 10px 15px;
        font-size: 0.9rem;
    }
}
/* =========================================
   3. 左側面板詳細樣式 (新整合部分)
   ========================================= */

/* 導覽與標題區塊 */
.itinerary-nav {
    flex-shrink: 0; /* 防止被壓縮 */
    z-index: 20;
    position: relative;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* 修改 editTrip.css 約第 73 行 */
.itinerary-content {
    flex-grow: 1;
    overflow-y: auto !important; /* 強制開啟垂直捲軸 */
    height: 100%; /* 確保填滿父容器 */
    display: none; /* 預設隱藏 */
}

/* 確保 Active 狀態時能正確顯示 */
.tab-content-active {
    display: flex !important;
    flex-direction: column;
}

/* --- 每一天的區塊 (Day Section) --- */
.day-section {
    background: #fff;
    margin-bottom: 15px;
    border-bottom: 1px solid #e9ecef;
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}

/* --- 天數標題 --- */
.day-header {
    background-color: #e9ecef;
    /* 【修改 3】加大左右內距：原本是 10px 20px */
    /* 改成 10px 30px (或更多)，讓文字往右移 */
    padding: 10px 30px;
    font-weight: 700;
    color: #495057;
    position: sticky;
    top: 0;
    z-index: 15;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #dee2e6;
}


/* --- 行程項目列表容器 --- */
.day-items-container {
    padding: 0;
}

/* --- 單一行程卡片 (Item) --- */
.itinerary-item {
    /* 【修改 4】加大左右內距：原本是 15px 20px */
    /* 改成 15px 30px，這裡要跟上面的 header 保持一致，視覺才會整齊 */
    position: relative; /* 【新增】確保刪除按鈕能正確定位在卡片內 */
    padding: 15px 30px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    gap: 15px;
    align-items: flex-start;
    transition: all 0.2s ease-in-out;
    cursor: pointer;
    background-color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); /* 輕微浮起效果 */
}

.itinerary-item:hover {
    background-color: rgba(218, 243, 243, 0.3) !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* 浮起陰影 */
    transform: translateY(-2px); /* 微微上浮 */
}

.itinerary-item:last-child {
    border-bottom: none;
}

/* --- 新增：時間軸圓點樣式 --- */
/* 這是為了讓 JS 中的 <div class="timeline-dot"> 排版好看一點 */
.timeline-dot {
    width: 24px;
    height: 24px;
    background-color: #e9ecef;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: bold;
    color: #6c757d;
    flex-shrink: 0; /* 防止被壓縮 */
}

/* 拖曳把手 */
.drag-handle {
    color: #adb5bd;
    cursor: grab;
    padding-top: 4px; /* 對齊視覺中心 */
}

    .drag-handle:hover {
        color: #6c757d;
    }

/* 時間顯示欄 */
.place-time {
    min-width: 45px;
    font-size: 0.85rem;
    font-weight: 500;
    color: #495057;
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.2;
    padding-top: 2px;
}

/* 景點資訊欄 */
.place-info {
    flex-grow: 1;
    min-width: 0; /* 讓 text-truncate 生效的關鍵 */
}

.place-title {
    font-weight: 600;
    font-size: 1rem;
    color: #212529;
    margin-bottom: 4px;
    /* 文字過長省略 */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.place-address {
    font-size: 0.8rem;
    color: #888;
    display: flex;
    align-items: center;
}

    /* 限制地址最多顯示一行 */
    .place-address span {
        display: inline-block;
        max-width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

/* =========================================
   4. 右側地圖浮動元件
   ========================================= */

/* 搜尋框容器 */
.search-container {
    position: absolute;
    top: 15px;
    left: 15px;
    z-index: 5; /* 確保在 Google Map 圖層之上 */
    width: 320px;
    max-width: 90%;
}

.search-box {
    border-radius: 8px;
    overflow: hidden;
    background: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

    .search-box .input-group-text {
        background-color: #fff;
        border: none;
        padding-left: 15px;
        cursor: default;
    }

#place-search-input {
    border: none;
    box-shadow: none; /* 移除預設陰影 */
    height: 45px; /* 增加點擊高度 */
}

/* 搜尋框 Focus 效果 */
.search-box:focus-within {
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.search-box:focus-within .input-group-text i {
    color: #0d6efd !important; /* Bootstrap Primary Blue */
}

/* 時間區塊 Hover 效果 */
.edit-time-trigger:hover {
    background-color: #f0f2f5;
    border-radius: 4px;
}

/* 強制讓 Google Autocomplete 下拉選單顯示在 Bootstrap Modal 之上 */
.pac-container {
    z-index: 1060 !important; /* Bootstrap Modal 預設是 1055，所以要比它大 */
}

/* =========================================
   航班卡片樣式 (Flight Card Styles)
   ========================================= */

/* 卡片容器：設定陰影、圓角與白色背景 */
.flight-card {
    background-color: #fff;
    border: 1px solid #e0e0e0; /* 淺灰色邊框 */
    border-radius: 12px; /* 圓潤邊角 */
    padding: 1.25rem; /* 內部留白 */
    margin-bottom: 1rem; /* 卡片間距 */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); /* 輕微浮起效果 */
    position: relative; /* 為了讓刪除按鈕絕對定位 */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* 滑鼠懸停時的效果 */
.flight-card:hover {
    background-color: rgba(218, 243, 243, 0.3) !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* 浮起陰影 */
    transform: translateY(-2px); /* 微微上浮 */
}

/* 新增日期標題樣式 */
.flight-date-header {
    font-size: 0.9rem;
    color: #6c757d;
    background-color: #f8f9fa; /* 淺灰背景 */
    padding: 4px 12px;
    border-radius: 20px;
    display: inline-block; /* 讓背景只包住文字 */
    margin-bottom: 12px; /* 與下方內容隔開 */
    font-weight: 600;
}

/* --- 左側：航空公司 --- */
.flight-airline-box {
    min-width: 80px;
    text-align: center;
    margin-right: 1.5rem;
}

/* 航空公司名稱 (模仿圖片的手寫/粗體感) */
.flight-airline-name {
    /*font-family: 'Arial Narrow', sans-serif;*/ /* 較窄的字體 */
    font-weight: 800;
    font-size: 1rem;
    color: #212529;
    letter-spacing: -0.5px;
    line-height: 1;
    margin-bottom: 10px;
}

/* 航班編號標籤 */
.flight-number-badge {
    font-size: 0.8rem;
    color: #6c757d;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    padding: 2px 8px;
    border-radius: 4px;
}

/* --- 中間：時間與地點 --- */
.flight-time-group {
    text-align: center;
    min-width: 80px;
}

/* 時間大字 (例如 17:00) */
.flight-time-large {
    font-size: 1.25rem; /* 大尺寸 */
    font-weight: 700;
    line-height: 1;
    color: #212529;
    margin-bottom: 0.25rem;
}

/* 機場代碼 (例如 RMQ) */
.flight-airport-code {
    font-size: 1.25rem;
    font-weight: 600;
    color: #212529;
}

/* --- 中央裝飾區塊 (飛行時間、線條、直飛) --- */
.flight-route-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-grow: 1;
    max-width: 200px; /* 限制最大寬度，避免線條拉太長 */
    padding: 0 1rem;
}

/* 飛行總時數 (例如 1小時30分鐘) */
.flight-duration-text {
    font-size: 0.85rem;
    color: #6c757d;
    margin-bottom: 4px;
}

/* 裝飾線條容器 */
.flight-line-container {
    position: relative;
    width: 100%;
    height: 20px; /* 給予高度讓飛機垂直置中 */
    display: flex;
    align-items: center;
}

/* 灰色橫線 */
.flight-line-bar {
    width: 100%;
    height: 2px;
    background-color: #adb5bd; /* 深灰色線條 */
}

/* 飛機圖示 (絕對定位在線條右側) */
.flight-icon-plane {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%) rotate(90deg); /* 垂直置中並旋轉向右 */
    color: #6c757d;
    font-size: 1.2rem;
    background-color: #fff; /* 背景白色遮擋線條 */
    padding-left: 4px;
}

/* 直飛文字 */
.flight-direct-text {
    font-size: 0.85rem;
    font-weight: 700;
    color: #198754; /* 綠色 */
    margin-top: 4px;
}



/* 餐廳列表項目樣式 */
.restaurant-item {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); /* 輕微浮起效果 */
    transition: all 0.2s ease-in-out;
}

.restaurant-item:hover {
    background-color: rgba(218, 243, 243, 0.3) !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* 浮起陰影 */
    transform: translateY(-2px); /* 微微上浮 */
}

/* 確保通用樣式 */
.object-fit-cover {
    object-fit: cover;
}

/* 讓文字截斷更自然 */
.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}



/* RWD: 在手機版時調整間距 */
@media (max-width: 576px) {
    .flight-time-large {
        font-size: 1.8rem; /* 手機版字體縮小 */
    }

    .flight-airline-box {
        margin-right: 0;
        margin-bottom: 1rem;
        width: 100%; /* 航空公司獨佔一行 */
    }
}


/* 導覽列相關樣式 */
.itinerary-nav {
    z-index: 1040; /* 確保在最上層 */
    background-color: #fff;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
}

/* 修正下拉選單在 nav 內的樣式 */
.itinerary-nav .dropdown-menu {
    font-size: 0.9rem;
    margin-top: 8px !important; /* 與按鈕的距離 */
    max-height: 300px;
    overflow-y: auto;
}

.itinerary-nav .btn-outline-secondary {
    border-color: #dee2e6;
    color: #495057;
    background-color: #f8f9fa;
}

.itinerary-nav .btn-outline-secondary:hover {
    background-color: #e9ecef;
    border-color: #ced4da;
    color: #212529;
}

/* 讓 dropdown-item 更有質感 */
.itinerary-nav .dropdown-item {
    padding: 8px 16px;
    border-radius: 4px;
    margin: 2px 4px;
    width: auto; /* 避免佔滿導致 margin 失效 */
}

.itinerary-nav .dropdown-item:active {
    background-color: #e9ecef;
    color: #000;
}


/* 1. 核心修正：確保 text-truncate 在 Flexbox 內生效 */
.rec-item .flex-grow-1 {
    min-width: 0; /* 這行最關鍵，防止長文字撐開容器 */
}

/* 2. 提升互動感：針對 .rec-item (你 JS 中的主要類別) */
.rec-item {
    transition: all 0.2s ease;
    cursor: pointer; /* 提示使用者這張卡片可以點擊預覽地圖 */
}

    .rec-item:hover {
        background-color: #f8f9fa; /* 滑鼠移入變色 */
        box-shadow: inset 4px 0 0 0 #00d1b2; /* 選配：在左側顯示一條小色塊，增加現代感 */
    }

    /* 3. 圖片顯示優化 */
    .rec-item img {
        transition: transform 0.3s ease;
    }

    .rec-item:hover img {
        transform: scale(1.05); /* 輕微放大，讓 Mia 這種感性使用者覺得圖片更吸引人 */
    }

    /* 4. 修改按鈕區域的游標 (避免點擊按鈕時感覺是在點卡片) */
    .rec-item .dropdown, .rec-item .btn {
        cursor: default;
    }


/* 自定義外框按鈕 */
.btn-outline-mint {
    background-color: transparent; /* 初始背景透明 */
    color: black;
    font-weight:bold;
    transition: all 0.3s ease; /* 讓顏色切換平滑 */
    font-weight: 600;
}

/* 滑鼠移過去 (Hover) */
.btn-outline-mint:hover {
    background-color: var(--primary-mint); /* 背景變色 */
    color: #ffffff; /* 文字變白色 */
    box-shadow: 0 4px 12px rgba(98, 222, 177, 0.3); /* 加入一點發光感 */
}

/* 針對按鈕內的圖示，確保它也跟著變色 */
.btn-outline-mint:hover i {
    color: #ffffff;
}


/* 住宿卡片容器需設為相對定位，讓按鈕能定位在右上角 */
.hotel-card {
    position: relative;
    transition: all 0.3s ease;
}

/* 垃圾桶按鈕基礎樣式 */
.spot-delete-btn, .hotel-delete-btn, .flight-delete-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #dee2e6;
    color: #dc3545; /* 刪除紅 */
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    /* 關鍵：預設隱藏並稍微下移（產生浮現動畫感） */
    opacity: 0;
    visibility: hidden;
    transform: translateY(5px);
    z-index: 10;
}

/* 當滑鼠移入卡片時，顯示按鈕 */
.itinerary-item:hover .spot-delete-btn,
.hotel-card:hover .hotel-delete-btn,
.flight-card:hover .flight-delete-btn {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* 按鈕懸停效果 */
.spot-delete-btn:hover,
.hotel-delete-btn:hover,
.flight-delete-btn:hover {
    background-color: #dc3545;
    color: white;
    border-color: #dc3545;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* 讓 Google InfoWindow 的內距消失，改用我們自己的控制 */
.gm-style-iw {
    padding: 0 !important;
}

.gm-style-iw-d {
    overflow: hidden !important;
}

.info-window-content {
    max-width: 400px; /* 根據需求調整 */
}

.info-window-img {
    width: 100%;
    height: 200px; /* 你可以自由修改這裡，例如 200px 或 220px */
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease;
}

.info-window-content:hover .info-window-img {
    transform: scale(1.05); /* 滑過時圖片微放大 */
}

.info-window-content .dropdown {
    /* 確保按鈕上方有一點點間隔線，視覺上比較分明 */
    border-top: 1px solid rgba(0,0,0,0.08);
}

/* 針對底部按鈕的特別設定 */
.info-window-content .dropdown .btn {
    border-radius: 5px; /* 去除圓角，讓它貼齊視窗底部 */
    width: 100%; /* 強制滿版 */
    border: none; /* 移除邊框 */
    /* [解決文字太靠邊]：增加上下 padding，讓按鈕變高，文字置中更舒服 */
    padding-top: 10px;
    padding-bottom: 10px;
    /* 字體排版優化 */
    display: flex; /* 使用 flex 讓圖示與文字垂直置中 */
    align-items: center;
    justify-content: center;
    gap: 6px; /* 圖示跟文字之間的距離 */
    font-size: 0.8rem; /* 字體大小適中 */

    /* [解決陰影問題]：預設狀態移除所有陰影 */
    box-shadow: none !important;
    outline: none !important;
    transition: background-color 0.2s, box-shadow 0.1s; /* 加入過渡動畫 */
}

/* 3. 點擊狀態 (Active) - 按下去時才出現陰影 */
.info-window-content .dropdown .btn:active,
.info-window-content .dropdown .btn.show { /* Dropdown 打開時也算 active */
    /* 這裡設定「內陰影」或是「外部陰影」，讓它有按下去的感覺 */
    box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.2) !important;
}



/* 修正下拉選單的位置，避免擋住按鈕 */
.info-window-content .dropdown-menu {
    border-radius: 4px; /* 選單圓角 */
    margin-top: 2px !important; /* 讓選單跟按鈕稍微有點距離 */
}


/* 愛心收藏按鈕 (修正版) */
.wishlist-heart {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    font-size: 1.4rem;
    cursor: pointer;
    flex-shrink: 0;
    transition: transform 0.2s, background-color 0.2s;
    border-radius: 50%;
    margin-left: 8px;
}

.wishlist-heart:hover {
    background-color: rgba(220, 53, 69, 0.1);
    transform: scale(1.1);
}

.wishlist-heart:active {
    transform: scale(0.9);
}

/* 愛心選中狀態 */
.wishlist-heart.active i {
    color: #dc3545; 
}

/* 移除 InfoWindow 內部可能的水平分隔線 */
.info-window-content hr {
    display: none !important;
}

/* 確保內文區塊沒有上方邊框 */
.info-window-content .p-3 {
    border-top: none !important;
}

/* 1. 殺掉所有可能在 InfoWindow 出現的橫線 */
.info-window-content hr {
    display: none !important;
}

/* 2. 針對按鈕容器，強制移除上邊框 */
.info-window-content .dropdown,
.info-window-content .dropdown-menu {
    border: none !important;
    border-top: 0 !important;
}

/* 3. 確保 p-3 容器之間沒有邊框 */
.info-window-content .p-3,
.info-window-content .px-3 {
    border: none !important;
}

/* 針對 InfoWindow 內的下拉選單 */
.info-window-content .dropdown-menu {
    /* 1. 增加選單寬度：讓選單可以比按鈕寬 (例如 120%) */
    min-width: 130% !important;
    /* 2. 移除橫向滾動條 */
    overflow-x: hidden !important;
    /* 3. 確保陰影不被切掉 */
    border: none !important;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175) !important;
}

/* 針對選單內的文字項目 */
.info-window-content .dropdown-item {
    /* 4. 縮小字體：讓文字在一行內顯示 */
    font-size: 0.8rem !important;
    padding: 6px 10px !important;
    /* 5. 強制不換行：確保維持在一橫排 */
    white-space: nowrap !important;
}

.hotel-img img {
    border: 1px solid #eee;
    background-color: #f8f9fa;
}

.hotel-card {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); /* 輕微浮起效果 */
    transition: all 0.2s ease-in-out;
}

.hotel-card:hover {
    background-color: rgba(218, 243, 243, 0.3) !important;
    box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* 浮起陰影 */
    transform: translateY(-2px); /* 微微上浮 */
}

.route-info-block {
background-color: transparent;
transition: all 0.2s;
border-radius: 4px;
margin-left: 25px; /* 配合 timeline 的位置 */
}

.route-info-block:hover {
    background-color: #F0FBFA; /* 極淡薄荷綠 */
    border-left: 2px solid #98FF98; /* 薄荷綠實線 */
}

.route-info-block span {
    font-size: 0.75rem;
    color: #6c757d;
}

/* =========================================
   5. 新版導覽列與 Tab 切換樣式 (優化版)
   ========================================= */

/* 1. 確保左側總面板是高度鎖定的 Flex 容器 */
.left-panel {
    width: 50vw;
    min-width: 320px;
    height: 100%; /* 這裡必須是 100% */
    display: flex;
    flex-direction: column;
    overflow: hidden; /* 這裡保持隱藏是正確的，為了讓內層 content 自己捲動 */
}


.tab-content-active {
    display: flex !important;
    z-index: 5;
}


/* 容器基本設定 */
.itinerary-nav-container {
    padding: 12px 10px;
    background: #fff;
    border-bottom: 1px solid #eee;
    flex-shrink: 0;
    z-index: 1050; /* 提升層級，確保下拉選單不被遮擋 */
}

/* 膠囊狀控制器底座 */
.segmented-control {
    display: flex;
    background: #f1f3f5;
    padding: 4px;
    border-radius: 12px;
    align-items: stretch;
    height: 54px;
    overflow: visible !important; /* 確保下拉選單溢出時可見 */
}

/* 按鈕共用樣式 (維持不變) */
.seg-item {
    flex: 1;
    border: none;
    background: transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: all 0.2s ease;
    color: #666;
    cursor: pointer;
    text-decoration: none;
    position: relative;
    outline: none !important;
}

    .seg-item i {
        font-size: 1.1rem;
        line-height: 1;
        margin-bottom: 2px;
    }

    .seg-item span {
        font-size: 0.75rem;
        font-weight: 600;
    }

    .seg-item:hover:not(.active) {
        background: rgba(255,255,255,0.5);
        color: #333;
    }

    .seg-item.active {
        background: #fff;
        color: #0d6efd;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

/* 左側 Dropdown 分隔線 */
.seg-dropdown {
    border-right: 1px solid #dee2e6;
    margin-right: 4px;
    padding-right: 4px;
    flex: 1.3;
    display: flex;
}

/* 內容區包覆層：必須佔滿剩餘高度 */
.tab-content-wrapper {
    flex-grow: 1; /* 撐開剩餘空間 */
    position: relative;
    width: 100%;
    min-height: 0;
}



/* 修改：分頁內容通用樣式 */
.itinerary-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: none;
    flex-direction: column;
    /* 關鍵：強制開啟垂直捲軸 */
    overflow-y: auto !important;
    background: #fff;
    padding-bottom: 80px; /* 預留底部空間避免被切掉 */
    max-height: 100%;
    min-height: 0;
}

/* 顯示狀態：當擁有 active class 時 */
.tab-content-active {
    display: flex !important; /* 改用 flex 支援內部佈局 */
    z-index: 5;
    animation: fadeInSlide 0.25s ease-out;
}

/* 優化淡入動畫：增加一點位移感更專業 */
@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 下拉選單 z-index 強化：避免被行程卡片擋住 */
.seg-dropdown .dropdown-menu {
    z-index: 2000 !important;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
}

/* editTrip.css */

/* 1. 確保左側總面板是高度撐滿且不捲動的 Flex 容器 */
.left-panel {
    display: flex;
    flex-direction: column;
    height: 100%; /* 撐滿父容器高度 */
    overflow: hidden; /* 重要：面板本身絕對不准捲動 */
    background: #fff;
}

/* 2. 導覽列容器：固定在最上方 */
.itinerary-nav-container {
    flex-shrink: 0; /* 重要：防止導覽列被 Flex 壓縮 */
    background: #fff;
    z-index: 10; /* 確保層級在內容之上 */
    border-bottom: 1px solid #eee;
}

/* 3. 內容區：只有這裡可以捲動 */
#itinerary-tab-content,
#explore-tab-content,
#favorites-tab-content {
    flex-grow: 1; /* 佔滿剩餘空間 */
    overflow-y: auto; /* 重要：捲動軸只出現在這裡 */
    position: relative;
    /* 讓捲動更流暢 */
    scroll-behavior: smooth;
}

/* 移除 Bootstrap dropdown-toggle 預設的下拉箭頭偽元素 */
.seg-dropdown .dropdown-toggle::after {
    display: none !important;
}


